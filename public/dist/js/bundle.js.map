{"version":3,"sources":["app.js","controllers/canvasCtrl.js","controllers/homeSplashCtrl.js","controllers/mainCtrl.js","controllers/projectsCtrl.js","directives/navBar.js","services/mainService.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","authenticate","otherwise","run","$rootScope","$state","mainService","$on","event","toState","toParams","fromState","fromParams","getUser","transitionTo","preventDefault","$scope","$document","$compile","canvas","element","document","querySelector","toolbar","elementColor","myFunc","myE","x","clientX","y","clientY","number","allowDraw","startDraw","toolbarShow","x1","x2","y1","y2","tempXLocation","tempYLocation","shadowX","shadowY","shapeHeight","shapeWidth","showShadow","showShadow2","on","draw","xLocation","yLocation","endDraw","shadowXLocation","shadowYLocation","shadowYtoolbar","toString","shadowXtoolbar","toolbarStyle","unbind","allowDrawFunc","createBox","template","linkFn","content","append","createEllipse","createCircle","createRoundedBox","console","log","disableDrawFunc","allowDrag","moveShape","target","attributes","id","nodeValue","dragShape","dropShape","attr","$location","then","user","currentUser","isLoggedIn","userId","getProjects","getAllProjects","response","projects","fav_wf","favorited","newProject","projectData","user_id","createProject","newPro","updateProject","newData","updated","deleteProject","projectId","deleted","callUser","directive","restrict","link","scope","elem","attrs","$stateParams","logout","path","service","$http","baseurl","method","data","res","catch","err"],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('app', ['ui.router', 'ngAnimate'])\r\n.config(function($stateProvider, $urlRouterProvider){\r\n        $stateProvider\r\n            .state('home', {\r\n                url: '/',\r\n                templateUrl: './views/homeSplash.html',\r\n                controller: 'homeSplashCtrl',\r\n                authenticate: false\r\n            })\r\n            .state('projects', {\r\n                url: '/projects',\r\n                templateUrl: './views/projects.html',\r\n                controller: 'projectsCtrl',\r\n                authenticate: true\r\n            })\r\n            .state('canvas', {\r\n                url: '/canvas',\r\n                templateUrl: './views/canvas.html',\r\n                controller: 'canvasCtrl',\r\n                authenticate: true\r\n            })\r\n            // console.log($urlRouterProvider)\r\n            $urlRouterProvider.otherwise('/');\r\n});\r\n\r\n\r\nangular.module(\"app\").run(function ($rootScope, $state, mainService) {\r\n    $rootScope.$on(\"$stateChangeStart\", function (event, toState, toParams, fromState,fromParams) {\r\n        if (toState.authenticate && !mainService.getUser()) {\r\n            // User isn’t authenticated\r\n            $state.transitionTo(\"home\");\r\n            event.preventDefault();\r\n        }\r\n    });\r\n});\r\n","angular.module('app').controller('canvasCtrl', function ($scope, mainService, $document, $compile) {\r\n\r\n  let canvas = angular.element(document.querySelector('#canvas'));\r\n  let toolbar = angular.element(document.querySelector('#toolbar'));\r\n\r\n  $scope.elementColor = \"white\";\r\n\r\n  $scope.myFunc = function (myE) {\r\n    $scope.x = myE.clientX;\r\n    $scope.y = myE.clientY;\r\n  }\r\n\r\n  $scope.number = 1;\r\n\r\n  $scope.allowDraw = true;\r\n\r\n\r\n  $scope.startDraw = function (event) {\r\n    if ($scope.allowDraw) {\r\n      $scope.toolbarShow = false;\r\n      $scope.x1 = 0;\r\n      $scope.x2 = 0;\r\n      $scope.y1 = 0;\r\n      $scope.y2 = 0;\r\n      $scope.tempXLocation = 0;\r\n      $scope.tempYLocation = 0;\r\n      $scope.shadowX = 0;\r\n      $scope.shadowY = 0;\r\n      $scope.shapeHeight = 0;\r\n      $scope.shapeWidth = 0;\r\n      $scope.showShadow = false;\r\n      $scope.showShadow2 = false;\r\n      $scope.tempXLocation = event.clientX;\r\n      $scope.tempYLocation = event.clientY;\r\n      $scope.toolbarShow = false;\r\n      event.preventDefault();\r\n      $document.on(\"mousemove\", draw);\r\n    }\r\n  }\r\n\r\n  function draw(event) {\r\n    $scope.showShadow = true;\r\n    $scope.showShadow2 = false;\r\n    $scope.x1 = $scope.tempXLocation;\r\n    $scope.y1 = $scope.tempYLocation;\r\n    $scope.x2 = event.clientX;\r\n    $scope.y2 = event.clientY;\r\n\r\n    if ($scope.tempXLocation >= event.clientX) {\r\n      $scope.xLocation = event.clientX\r\n    } else {\r\n      $scope.xLocation = $scope.tempXLocation;\r\n    }\r\n\r\n    if ($scope.tempYLocation >= event.clientY) {\r\n      $scope.yLocation = event.clientY - 60\r\n    } else {\r\n      $scope.yLocation = $scope.tempYLocation - 60;\r\n    }\r\n\r\n    if ($scope.x2 >= $scope.x1) {\r\n      $scope.shapeWidth = $scope.x2 - $scope.x1;\r\n    } else {\r\n      $scope.shapeWidth = $scope.x1 - $scope.x2;\r\n    }\r\n    if ($scope.y2 >= $scope.y1) {\r\n      $scope.shapeHeight = $scope.y2 - $scope.y1;\r\n    } else {\r\n      $scope.shapeHeight = $scope.y1 - $scope.y2;\r\n    }\r\n  }\r\n\r\n  $scope.endDraw = function (event) {\r\n    if ($scope.allowDraw) {\r\n      $scope.showShadow = false;\r\n      $scope.showShadow2 = true;\r\n      $scope.shadowX = event.clientX - $scope.tempXLocation;\r\n      $scope.shadowY = event.clientY - $scope.tempYLocation;\r\n\r\n      if ($scope.tempXLocation >= event.clientX) {\r\n        $scope.shadowXLocation = event.clientX\r\n      } else {\r\n        $scope.shadowXLocation = $scope.tempXLocation;\r\n      }\r\n\r\n      if ($scope.tempYLocation >= event.clientY) {\r\n        $scope.shadowYLocation = event.clientY - 60\r\n      } else {\r\n        $scope.shadowYLocation = $scope.tempYLocation - 60;\r\n      }\r\n\r\n      if ($scope.x2 >= $scope.x1) {\r\n        $scope.shadowX = $scope.x2 - $scope.x1;\r\n      } else {\r\n        $scope.shadowX = $scope.x1 - $scope.x2;\r\n      }\r\n      if ($scope.y2 >= $scope.y1) {\r\n        $scope.shadowY = $scope.y2 - $scope.y1;\r\n      } else {\r\n        $scope.shadowY = $scope.y1 - $scope.y2;\r\n      }\r\n      let shadowYtoolbar = $scope.shadowYLocation.toString() + \"px\";\r\n      let shadowXtoolbar = $scope.shadowXLocation.toString() + \"px\";\r\n      $scope.toolbarStyle = {\r\n        \"position\": \"absolute\",\r\n        \"top\": shadowYtoolbar,\r\n        \"left\": shadowXtoolbar\r\n      }\r\n\r\n      $document.unbind(\"mousemove\", draw);\r\n      if ($scope.shadowX > 5 || $scope.shadowY > 5) {\r\n        $scope.toolbarShow = true;\r\n      }\r\n    }\r\n\r\n    $scope.allowDrawFunc();\r\n\r\n  }\r\n\r\n  $scope.createBox = function () {\r\n    let template = (\"<svg class='draggable' width='100%' height='100%'><rect ng-mousedown='disableDrawFunc()' x=\" + $scope.shadowXLocation + \" y=\" + $scope.shadowYLocation + \" width=\" + $scope.shadowX + \" height=\" + $scope.shadowY + \" style='fill:\" + $scope.elementColor + \";stroke:black;stroke-width:1;opacity:0.8;cursor:move'; id='dynamicId\" + $scope.tempXLocation + $scope.tempYLocation + \"' />  </svg>\")\r\n    let linkFn = $compile(template);\r\n    let content = linkFn($scope);\r\n    canvas.append(content);\r\n    $scope.showShadow2 = false;\r\n    $scope.toolbarShow = false;\r\n  }\r\n\r\n\r\n  $scope.createEllipse = function () {\r\n    let template = (\"<svg width='100%' height='100%'><ellipse ng-mousedown='disableDrawFunc()' cx=\" + ($scope.shadowXLocation + ($scope.shadowX / 2)) + \" cy=\" + ($scope.shadowYLocation + ($scope.shadowY / 2)) + \" rx=\" + ($scope.shadowX / 2) + \" ry=\" + ($scope.shadowY / 2) + \" style='fill:\" + $scope.elementColor + \";stroke:black;stroke-width:1;opacity:0.8;cursor:move;' id='dynamicId\" + $scope.tempXLocation + $scope.tempYLocation + \"' />    </svg>\")\r\n    let linkFn = $compile(template);\r\n    let content = linkFn($scope);\r\n    canvas.append(content);\r\n    $scope.showShadow2 = false;\r\n    $scope.toolbarShow = false;\r\n  }\r\n\r\n  $scope.createCircle = function () {\r\n    let template = (\"<svg width='100%' height='100%'><circle ng-mousedown='disableDrawFunc()' cx=\" + ($scope.shadowXLocation + ($scope.shadowX / 2)) + \" cy=\" + ($scope.shadowYLocation + ($scope.shadowX / 2)) + \" r=\" + ($scope.shadowX / 2) + \" style='fill:\" + $scope.elementColor + \";stroke:black;stroke-width:1;opacity:0.8;cursor:move;' id='dynamicId\" + $scope.tempXLocation + $scope.tempYLocation + \"' />    </svg>\")\r\n    let linkFn = $compile(template);\r\n    let content = linkFn($scope);\r\n    canvas.append(content);\r\n    $scope.showShadow2 = false;\r\n    $scope.toolbarShow = false;\r\n  }\r\n\r\n  $scope.createRoundedBox = function () {\r\n    let template = (\"<svg width='100%' height='100%'><rect ng-mousedown='disableDrawFunc($event)' x=\" + $scope.shadowXLocation + \" y=\" + $scope.shadowYLocation + \" rx='20' ry='20' width=\" + $scope.shadowX + \" height=\" + $scope.shadowY + \" style='fill:\" + $scope.elementColor + \";stroke:black;stroke-width:1;opacity:0.8;cursor:move;' id='dynamicId\" + $scope.tempXLocation + $scope.tempYLocation + \"' />    </svg>\")\r\n    let linkFn = $compile(template);\r\n    let content = linkFn($scope);\r\n    canvas.append(content);\r\n\r\n    $scope.showShadow2 = false;\r\n    $scope.toolbarShow = false;\r\n  }\r\n\r\n\r\n  $scope.allowDrawFunc = function() {\r\n    $scope.allowDraw = true;\r\n    console.log(\"allowDraw\");\r\n  }\r\n\r\n  $scope.disableDrawFunc = function(event) {\r\n    $scope.allowDrag = true;\r\n    $scope.allowDraw = false;\r\n    console.log(\"disableDraw\");\r\n    var moveShape = angular.element(document.querySelector('#' + event.target.attributes.id.nodeValue ));\r\n    console.log(moveShape);\r\n    $document.on('mousemove', dragShape)\r\n    $document.on('mouseup', dropShape)\r\n  }\r\n\r\n  function dragShape(event) {\r\n    console.log(moveShape);\r\n    if ($scope.allowDrag) {\r\n      moveShape.attr(\"x\", event.clientX)\r\n      moveShape.attr('y', event.clientY)\r\n    }\r\n  }\r\n\r\n  function dropShape(event) {\r\n    $scope.allowDrag = false;\r\n    moveShape.attr(\"id\", (\"dynamicId\" + event.clientX + event.clientY))\r\n    console.log(event.target.attributes.id.nodeValue);\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n})\r\n","angular.module('app').controller('homeSplashCtrl', function($scope, mainService){\r\n  console.log('homeSplashCTRL!!!!!');\r\n\r\n\r\n});","angular.module('app').controller('mainCtrl', function($scope, mainService, $location, $rootScope){\r\n\tconsole.log('mainCTRL!!!!!!!')\r\n\r\n  \r\n\r\n});","angular.module('app').controller('projectsCtrl', function($scope, mainService, $rootScope, $location){\r\n\r\n    function getUser() {\r\n        console.log('getUser function ran!');\r\n        mainService.getUser().then((user) => {\r\n            if (user) {\r\n                $rootScope.currentUser = user;\r\n                $rootScope.isLoggedIn = true;\r\n                // $rootScope.userId = user.id;\r\n                let userId = user.id;\r\n                $scope.getProjects = () => {\r\n                    mainService.getAllProjects(userId).then((response) => {\r\n                        $scope.projects = response;\r\n                        console.log(response);\r\n                        if ($scope.projects.fav_wf === true) {\r\n                            $scope.favorited = true;\r\n                        } else {\r\n                            $scope.favorited = false;\r\n                        }\r\n                    });\r\n                }\r\n                $scope.getProjects();\r\n\r\n\r\n                //Goes in Canvas Ctrl\r\n                $scope.newProject = (projectData) => {\r\n                    projectData.user_id = userId;\r\n                    mainService.createProject(projectData).then((response) => {\r\n                        $scope.newPro = response;\r\n                    });\r\n                }\r\n\r\n                //Favoriting, deleting shapes, creating shapes, sync project, save existing project.\r\n                $scope.updateProject = () => {\r\n                    mainService.updateProject(newData).then((response) => {\r\n                        $scope.updated = response;\r\n                    });\r\n                }\r\n\r\n                $scope.deleteProject = (projectId) => {\r\n                    mainService.deleteProject(projectId).then((response) => {\r\n                        $scope.deleted = response;\r\n                    });\r\n                }\r\n\r\n            } else {\r\n                $rootScope.isLoggedIn = false;\r\n                // $location.path('homeSplash');\r\n                // console.log('Auth0 Error', err);\r\n            }\r\n        });\r\n    }\r\n    $scope.callUser = getUser();\r\n\r\n\r\n\r\n//PROJECTS\r\n    \r\n\r\n\r\n})","angular.module('app').directive('navBar', function(){\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: './views/directives/navBar.html',\r\n        link: function(scope, elem, attrs){\r\n\r\n        },\r\n        controller: function($scope, mainService, $location, $stateParams){\r\n            $scope.logout = mainService.logout;\r\n            console.log($location.path())\r\n            // $scope.isActive = function(viewLocation) {\r\n            //     return viewLocation === '/canvas';\r\n            // };\r\n        }\r\n    }\r\n})","angular.module('app').service('mainService', function($http){\r\n\r\n  let baseurl = 'http://localhost:3000/';\r\n\r\n  this.getAllProjects = (userId) => {\r\n  \treturn $http({\r\n  \t\tmethod: 'GET',\r\n  \t\turl: baseurl + 'api/projects/' + userId\r\n  \t}).then((response) => {\r\n  \t\treturn response.data;\r\n  \t});\r\n  }\r\n\r\n  this.createProject = (projectData) => {\r\n  \treturn $http({\r\n  \t\tmethod: 'POST',\r\n  \t\turl: baseurl + 'api/projects',\r\n  \t\tdata: projectData\r\n  \t}).then((response) => {\r\n  \t\treturn response;\r\n  \t});\r\n  }\r\n\r\n  this.updateProject = (newData) => {\r\n  \treturn $http({\r\n  \t\tmethod: 'PUT',\r\n  \t\turl: baseurl + 'api/project/',\r\n  \t\tdata: newData\r\n  \t}).then((response) => {\r\n  \t\treturn response.data;\r\n  \t});\r\n  }\r\n\r\n  this.deleteProject = (projectId) => {\r\n  \treturn $http({\r\n  \t\tmethod: 'DELETE',\r\n  \t\turl: baseurl + 'api/projects/' + projectId\r\n  \t}).then((response) => {\r\n  \t\treturn response;\r\n  \t});\r\n  }\r\n\r\n  this.getUser = () => {\r\n    return $http({\r\n      method: 'GET',\r\n      url: '/auth/me'\r\n    }).then((res) => {\r\n      console.log(\"getting user data from DB\",res.data);\r\n      return res.data;\r\n    }).catch((err) => {\r\n      return err;\r\n    });\r\n  }\r\n\r\n  this.logout = () => {\r\n    return $http({\r\n      method: 'GET',\r\n      url: '/auth/logout'\r\n    }).then((res) => {\r\n      return res.data;\r\n    }).catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n});"]}